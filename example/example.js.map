{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/GuacaMarkdownEditor.js","example/main.js"],"names":[],"mappings":"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","file":"example.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* global $ */\r\n\r\nclass GuacaAirPopUp {\r\n\t\r\n\tconstructor(editorElement, settings) {\r\n\t\tthis.settings = settings || this.getDefaultSettings();\t\t\r\n\t\tthis.airPopUp = $('<div></div>');\r\n\t\tthis.airPopUp.addClass(\"guaca-airpopup\");\r\n\t\tthis.addControls(this.settings.controls, this.airPopUp);\r\n\t\tthis.airPopUp.insertAfter(editorElement);\r\n\t\tthis.$window = $(window);\r\n\t}\r\n\t\r\n\t// API Start\r\n\t\r\n\tsetPosition(rect) {\r\n\t\tvar y = this.getComputedYPosition(rect.top, rect.bottom),\r\n\t\t\tx = this.getComputedXPosition(rect.left);\r\n\t\t\t\r\n\t\tthis.airPopUp.css(\"top\", y);\r\n\t\tthis.airPopUp.css(\"left\", x);\r\n\t\tthis.airPopUp.css(\"display\", \"block\");\r\n\t}\r\n\t\r\n\thide() {\r\n\t\tthis.airPopUp.css(\"display\", \"none\");\r\n\t}\r\n\t\r\n\tgetHeight() {\r\n\t\treturn this.airPopUp.innerHeight();\r\n\t}\r\n\t\r\n\tgetWidth() {\r\n\t\treturn this.airPopUp.innerWidth();\r\n\t}\r\n\t\r\n\t// API End\r\n\t\r\n\tgetComputedYPosition(top, bottom) {\r\n\t\tvar newYOffset = this.getHeight() + this.settings[\"y-spacing\"];\r\n\t\tvar y;\r\n\t\tif (top < newYOffset) y = bottom + this.settings[\"y-spacing\"];\r\n\t\telse y = top - newYOffset;\r\n\t\treturn y + this.$window.scrollTop();\r\n\t}\r\n\t\r\n\tgetComputedXPosition(left) {\r\n\t\tvar x = left;\r\n\t\tif (left + this.getWidth() + this.settings[\"x-spacing\"] > this.$window.innerWidth()) \r\n\t\t\tx = this.$window.innerWidth() - this.getWidth() - this.settings[\"x-spacing\"];\r\n\t\treturn x + this.$window.scrollLeft();\r\n\t}\r\n\t\r\n\taddControls(controls, element) {\r\n\t\tfor(var control of controls) {\r\n\t\t\tif(typeof control == \"object\" && control.length) {\r\n\t\t\t\tvar container =  $('<span class=\"container\"></button>');\r\n\t\t\t\tthis.addControls(control, container);\r\n\t\t\t\telement.append(container);\r\n\t\t\t}\r\n\t\t\telement.append(this.createControl(control));\r\n\t\t}\r\n\t}\r\n\t\r\n\tcreateControl(className) {\r\n\t\tvar control = $('<button></button>');\r\n\t\tcontrol.addClass(className);\r\n\t\treturn control;\r\n\t}\r\n\t\r\n\tgetDefaultControls() {\r\n\t\treturn [\r\n\t\t\t'bold',\r\n\t\t\t'italic',\r\n\t\t\t'divider',\r\n\t\t\t[\r\n\t\t\t\t'small-heading',\r\n\t\t\t\t'medium-heading',\r\n\t\t\t\t'large-heading'\r\n\t\t\t],\r\n\t\t\t'paragraph',\r\n\t\t\t'ol',\r\n\t\t\t'ul',\r\n\t\t\t'code'\r\n\t\t];\r\n\t}\r\n\t\r\n\tgetDefaultSettings() {\r\n\t\treturn {\r\n\t\t\t\"y-spacing\": 8,\r\n\t\t\t\"x-spacing\": 20,\r\n\t\t\t\"controls\": this.getDefaultControls()\r\n\t\t}\r\n\t}\r\n}\n\nclass GuacaMarkdownEditor {\r\n\t\r\n\tconstructor(inputElement) {\r\n\t\tvar self = this;\r\n\t\tself.inputElement = inputElement;\r\n\t\tself.guacaEditorElement = this.setUpGuacaMarkdownElement();\r\n\t\tself.airPopUp = new GuacaAirPopUp(self.guacaEditorElement);\r\n\t\tself.currentSelection = null;\r\n\t\t\r\n\t\tinputElement.css(\"display\", \"none\");\r\n\t\tself.subscribeToEvents();\r\n\t\t\r\n\t}\r\n\t\r\n\t// API Start \r\n\t\r\n\tgetCurrentSelection() {\r\n\t\treturn this.currentSelection;\r\n\t}\r\n\t\r\n\t// API End\r\n\t\r\n\tsetUpGuacaMarkdownElement() {\r\n\t\tvar guacaElement = $('<div contentEditable=\"true\" class=\"guaca-editor\" ></div>');\r\n\t\tvar attributes = this.inputElement.prop(\"attributes\");\r\n\t\t\r\n\t\t$.each(attributes, (i, a) => {\r\n\t\t\tguacaElement.attr(a.name, a.value);\r\n\t\t});\r\n\t\t\r\n\t\tguacaElement.css(\"display\", \"inline-block\");\r\n\t\tguacaElement.addClass(\"guaca-editor\");\r\n\t\t\r\n\t\tguacaElement.insertAfter(this.inputElement);\r\n\t\t\r\n\t\treturn guacaElement;\r\n\t}\r\n\t\r\n\tsubscribeToEvents() {\r\n\t\tvar self = this;\r\n\t\tthis.guacaEditorElement.on('selectstart', () => {\r\n\t\t\tself.onSelectStart();\r\n\t\t\t$(document).one('mouseup', () => {\r\n\t\t\t\tself.onSelectText();\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.guacaEditorElement.on('blur', () => {\r\n\t\t\tself.airPopUp.hide();\r\n\t\t});\r\n\t}\r\n\t\r\n\tonSelectText() {\r\n\t\tthis.currentSelection = window.getSelection();\r\n\t\tif(this.currentSelection.type === \"Caret\") return;\r\n\t\tvar rect = this.currentSelection.getRangeAt(0).getBoundingClientRect();\r\n\t\tthis.airPopUp.setPosition(rect);\r\n\t}\r\n\t\r\n\tonSelectStart() {\r\n\t\tthis.airPopUp.hide();\r\n\t}\r\n}\n\nexport default GuacaMarkdownEditor;\n//# sourceMappingURL=GuacaMarkdownEditor.js.map\n","import GuacaMarkdownEditor from '../dist/GuacaMarkdownEditor'\r\n\r\n// Testing\r\nvar editor = new GuacaMarkdownEditor($(\".editorinput\"));\r\n"]}